trigger:
- main   # or your default branch

pool:
  name: Edureka Session Demo   # ðŸ‘ˆ the agent pool you created in DevOps
  demands: agent.os -equals Linux

steps:
- task: Maven@4
  inputs:
    azureSubscription: 'Sushil-Prod-Serice-Connection.'
    mavenPomFile: 'pom.xml'
    publishJUnitResults: true
    testResultsFiles: '**/surefire-reports/TEST-*.xml'
    javaHomeOption: 'JDKVersion'
    mavenVersionOption: 'Default'
    mavenAuthenticateFeed: false
    effectivePomSkip: false
    sonarQubeRunAnalysis: false
- script: echo "Hello from Proxmox self-hosted agent!"
  displayName: "Test agent connectivity"

- script: |
    echo "Node.js version:"
    node -v
    echo "NPM version:"
    npm -v
    echo "OS info:"
    uname -a
  displayName: "Check installed tools"
